# **Прогресс асинхронных операций** 

**Прогресс асинхронной операции** - информаирование пользователя о состоянии выполнения операции. Он помогает пользователям легче реагировать на невидимый для их глаз ход выполнения. Например, он позволяет проинформировать пользователеля, что в данный момент что-то выполняется и стоит подождать заершения. Или, наоборот, пользователи видит, что прогресс остановился и врямя ожидания для него неприемлемо и он просто отменит выполнение асинхронной операции.

Бывает, что запрошенная пользователем операция может занять много времени для выполнения. 

Поэтому, вы бы хотели предоставить пользователю какую-то возможность, которая позволит следить за ходом выполнения процесса.

Эта возможность может повлиять на решения пользователя:
- Пользователь проинформирован, что операция была начата;
- Пользователь видит прогресс выполнения операции;
- Пользователь может отменить операцию, видя, что индикатор операции долго не отвечает или зависает. (Если отмена поддерживается асинхронной операцией).

Для отображения прогресса могут использоваться самые разные элементы, начиная от банальных прогресс баров, заканчивая самой разной анимацией. Этот выбор ложится на вас, что вы считаете предпочтительным.

Мониторинг асинхронной операции – это не новое решение, но оно приветствуется в TAP подходе.

Очень важно, при возможности, добавлять какое-то средство для отображения хода асинхронной операции, ведь использование асинхронности не означает, что вы не заставите пользователя ждать результата операции.

## **01 Интерфейс **IProgress<T>и базовый класс Progress<T>** 
---
Для представления прогресса асинхронной операции был введен интерфейс ```IProgress<T>```.

Благодаря этому интерфейсу, вы можете перегрузить свои методы с асинхронными операциями новой перегрузкой, принимающей в качестве параметра тип реализующий интерфейс ```IProgress<T>```.

Методы интерфейса:
- ```void Report(T item)``` – сообщает о прогрессе операции. Передает значение обновленного прогресса.

```Progress<T>``` – базовый класс для отображения прогресса асинхронной операции. Можно использовать этот тип напрямую.

Класс удобен, потому что имеет несколько вариантов оповещения. В числе вариантов присутствует как инициация события и всех его обработчиков, так и вызов установленного делегата Action<T>, когда задача сообщает о ходе выполнения.

Класс автоматически захватывает контекст синхронизации, если он доступен. Если нет, будет использован ```ThreadPool```.
